"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.timeZonesWithGMT = void 0;
var getTimeZonesWithGMT = function () {
    var timeZones = Intl.supportedValuesOf("timeZone");
    // Helper function to get a timezone part
    var getTimeZonePart = function (timeZone, timeZoneName, now) {
        var formatter = new Intl.DateTimeFormat("en-US", {
            timeZone: timeZone,
            timeZoneName: timeZoneName,
        });
        var parts = formatter.formatToParts(now);
        var timeZonePart = parts.find(function (part) { return part.type === "timeZoneName"; });
        switch (timeZoneName) {
            case "longOffset":
            case "shortOffset":
                return timeZonePart === null || timeZonePart === void 0 ? void 0 : timeZonePart.value.replace("GMT", "");
            case "short":
                return timeZonePart === null || timeZonePart === void 0 ? void 0 : timeZonePart.value;
        }
    };
    var timeZoneList = [];
    // Build the list of timezones with GMT offsets
    timeZones.forEach(function (timeZone) {
        var now = new Date();
        var longOffset = getTimeZonePart(timeZone, "longOffset", now);
        var longGeneric = getTimeZonePart(timeZone, "short", now);
        var shortOffset = getTimeZonePart(timeZone, "shortOffset", now);
        if (!longOffset || !longGeneric || !shortOffset) {
            return;
        }
        var gmtLabel = "(GMT ".concat(longOffset, ") - ").concat(longGeneric, " (").concat(timeZone, ")");
        // needed to account for 30min or 45min offsets otherwise sorting is a mess
        var tzOffset = Number(shortOffset.replace(":00", "").replace(":30", ".5").replace(":45", ".75"));
        timeZoneList.push({
            label: gmtLabel,
            value: timeZone,
            offset: tzOffset,
        });
    });
    timeZoneList.sort(function (zoneA, zoneB) { return zoneA.offset - zoneB.offset; });
    return timeZoneList;
};
exports.timeZonesWithGMT = getTimeZonesWithGMT();
//# sourceMappingURL=timeZoneSelect.utils.js.map