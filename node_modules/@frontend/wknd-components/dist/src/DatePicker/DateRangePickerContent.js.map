{"version":3,"file":"DateRangePickerContent.js","sourceRoot":"","sources":["../../../src/DatePicker/DateRangePickerContent.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport { spacingMap } from \"../styleguide\";\n\nimport { setNewEndDate, setNewStartDate } from \"./DatePicker.utils\";\nimport DatePickerFooter from \"./DatePickerFooter\";\nimport DatePickerShortcutsPanel from \"./DatePickerShortcutsPanel\";\nimport { DateRangePickerProps } from \"./DateRangePicker\";\nimport StaticDateRangePicker from \"./StaticDateRangePicker\";\n\nconst DateRangePickerContentWrapper = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n`;\n\nconst CalendarAndFooterWrapper = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nexport type DateRangePickerContentProps = DateRangePickerProps & {\n\tselectedDates: Date[];\n\tsetSelectedDates: (dates: Date[]) => void;\n};\n\nconst DateRangePickerContent = ({\n\tstaticDateRangePickerProps,\n\tfooterProps,\n\tshortcuts,\n\tdateFormat,\n\tplaceholder,\n\tselectedDates,\n\tsetSelectedDates,\n}: DateRangePickerContentProps) => {\n\tconst [dateInView, setDateInView] = useState<Date>();\n\n\tconst applyOnClick = () => {\n\t\tif (selectedDates) {\n\t\t\tstaticDateRangePickerProps.onDateChange(selectedDates);\n\t\t}\n\t};\n\n\tconst handleOnDateChange = (dates: Date[]) => {\n\t\tsetSelectedDates(dates);\n\t\tif (!footerProps?.showFooter) {\n\t\t\tstaticDateRangePickerProps.onDateChange(dates);\n\t\t}\n\t};\n\n\t/**\n\t * @param newStartDate\n\t * @description newStartDate is the input value that has been validated and turned into a date\n\t */\n\tconst handleStartDateInput = (newStartDate?: Date) => {\n\t\tconst newSelectedDates = [...selectedDates];\n\t\t// if there is no new start date but there is a selected start date, set the selected dates to an empty array\n\t\t// this is subject to change as we get more people using this\n\t\tif (!newStartDate && newSelectedDates[0]) {\n\t\t\tsetSelectedDates([]);\n\t\t\tsetDateInView(undefined);\n\t\t\treturn;\n\t\t}\n\n\t\tif (newStartDate) {\n\t\t\tsetNewStartDate(\n\t\t\t\tnewStartDate,\n\t\t\t\tnewSelectedDates,\n\t\t\t\tsetSelectedDates,\n\t\t\t\tsetDateInView,\n\t\t\t);\n\t\t}\n\t};\n\n\t/**\n\t * @param newEndDate\n\t * @description newEndDate is the input value that has been validated and turned into a date\n\t */\n\tconst handleEndDateInput = (newEndDate?: Date) => {\n\t\tconst newSelectedDates = [...selectedDates];\n\n\t\tif (!newEndDate && !newSelectedDates[1]) {\n\t\t\treturn;\n\t\t}\n\n\t\t// no new end date submitted but there is an already selected date, remove it\n\t\tif (!newEndDate && newSelectedDates[1]) {\n\t\t\tnewSelectedDates.pop();\n\t\t\tsetSelectedDates(newSelectedDates);\n\t\t\tsetDateInView(selectedDates[0]);\n\t\t\treturn;\n\t\t}\n\n\t\tif (newEndDate) {\n\t\t\tsetNewEndDate(\n\t\t\t\tnewEndDate,\n\t\t\t\tnewSelectedDates,\n\t\t\t\tsetSelectedDates,\n\t\t\t\tsetDateInView,\n\t\t\t);\n\t\t}\n\t};\n\n\tconst startDate = selectedDates[0];\n\tconst endDate = selectedDates[1];\n\n\treturn (\n\t\t<DateRangePickerContentWrapper>\n\t\t\t<DatePickerShortcutsPanel\n\t\t\t\tsetSelectedDates={setSelectedDates}\n\t\t\t\tselectedDates={selectedDates}\n\t\t\t\tshortcuts={shortcuts}\n\t\t\t\tminDate={staticDateRangePickerProps.dayzedProps?.minDate}\n\t\t\t\tmaxDate={staticDateRangePickerProps.dayzedProps?.maxDate}\n\t\t\t\tsetDateInView={setDateInView}\n\t\t\t/>\n\t\t\t<CalendarAndFooterWrapper>\n\t\t\t\t<StaticDateRangePicker\n\t\t\t\t\t{...staticDateRangePickerProps}\n\t\t\t\t\tstartDate={startDate}\n\t\t\t\t\tendDate={endDate}\n\t\t\t\t\tonDateChange={handleOnDateChange}\n\t\t\t\t\tdayzedProps={{\n\t\t\t\t\t\t...staticDateRangePickerProps.dayzedProps,\n\t\t\t\t\t\tdate: dateInView || staticDateRangePickerProps.dayzedProps?.date,\n\t\t\t\t\t}}\n\t\t\t\t\tm={spacingMap.md}\n\t\t\t\t/>\n\t\t\t\t{footerProps?.showFooter && (\n\t\t\t\t\t<DatePickerFooter\n\t\t\t\t\t\tapplyOnClick={applyOnClick}\n\t\t\t\t\t\tshowFooterInputs={footerProps.showFooterInputs}\n\t\t\t\t\t\tstartDate={startDate}\n\t\t\t\t\t\tendDate={endDate}\n\t\t\t\t\t\thandleStartDate={handleStartDateInput}\n\t\t\t\t\t\thandleEndDate={handleEndDateInput}\n\t\t\t\t\t\tdateFormat={dateFormat}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tminDate={staticDateRangePickerProps.dayzedProps?.minDate}\n\t\t\t\t\t\tmaxDate={staticDateRangePickerProps.dayzedProps?.maxDate}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</CalendarAndFooterWrapper>\n\t\t</DateRangePickerContentWrapper>\n\t);\n};\n\nexport default DateRangePickerContent;\n"]}