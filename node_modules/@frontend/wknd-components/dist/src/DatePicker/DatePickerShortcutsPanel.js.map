{"version":3,"file":"DatePickerShortcutsPanel.js","sourceRoot":"","sources":["../../../src/DatePicker/DatePickerShortcutsPanel.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,6CAAsC;AAEtC,4CAA2C;AAC3C,oDAAmD;AAEnD,4EAAsD;AACtD,6DAA0D;AAE1D,uDAA4D;AAC5D,qFAI2C;AAW3C,IAAM,wBAAwB,GAAG,UAAC,EAOF;QAN/B,gBAAgB,sBAAA,EAChB,iBAA6B,EAA7B,SAAS,mBAAG,uCAAiB,KAAA,EAC7B,OAAO,aAAA,EACP,OAAO,aAAA,EACP,aAAa,mBAAA,EACb,aAAa,mBAAA;IAEP,IAAA,KAAgD,IAAA,yBAAe,EAAC,aAAa,EAAE,SAAS,CAAC,EAAvF,kBAAkB,wBAAA,EAAE,qBAAqB,2BAA8C,CAAC;IAChG,IAAM,WAAW,GAAG,IAAA,cAAM,EAAiB,IAAI,CAAC,CAAC;IAEjD,IAAM,aAAa,GAAG,UAAC,QAAsB,EAAE,EAAU;QACxD,IAAM,KAAK,GAAG,QAAQ,EAAE,CAAC;QACzB,qBAAqB,CAAC,EAAE,CAAC,CAAC;QAC1B,gBAAgB,CAAC,KAAK,CAAC,CAAC;QACxB,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,CAAC,OAAO,EAAE;YACnD,IAAM,YAAY,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,YAAY,EAAE,CAAC;YAC7C,IAAM,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,YAAY,EAAE,CAAC;YAC3C,WAAW,CAAC,OAAO,CAAC,WAAW,GAAG,kCAA2B,YAAY,qCAA2B,UAAU,MAAG,CAAC;SAClH;QACD,uCAAuC;QACvC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACzB,CAAC,CAAC;IAEF,IAAM,gBAAgB,GAAG,UAAC,KAAa;QACtC,IAAM,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QAC3B,IAAM,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QAEzB,OAAO,SAAS,CAAC,OAAO,EAAE,GAAG,IAAA,6BAAU,EAAC,OAAO,CAAC,CAAC,OAAO,EAAE;eACtD,OAAO,CAAC,OAAO,EAAE,GAAG,IAAA,6BAAU,EAAC,OAAO,CAAC,CAAC,OAAO,EAAE,CAAC;IACvD,CAAC,CAAC;IAEF,OAAO,CACN,8BAAC,uDAAqB;QACrB,8BAAC,+BAAc,IACd,GAAG,EAAE,WAAW,aACR,8BAA8B,EACtC,EAAE,EAAC,8BAA8B,eACvB,WAAW,GAAG;QACzB,8BAAC,4DAA0B,QACzB,SAAS,CAAC,GAAG,CAAC,UAAC,EAAuB;gBAArB,KAAK,WAAA,EAAE,QAAQ,cAAA,EAAE,EAAE,QAAA;YAAO,OAAA,CAC3C,8BAAC,gDAAc,IACd,UAAU,EAAE,kBAAkB,KAAK,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,EACpD,GAAG,EAAE,EAAE,aACE,UAAG,EAAE,qBAAkB,EAChC,OAAO,EAAE,cAAM,OAAA,aAAa,CAAC,QAAQ,EAAE,EAAE,CAAC,EAA3B,CAA2B,EAC1C,QAAQ,EAAE,gBAAgB,CAAC,QAAQ,EAAE,CAAC;gBAEtC,8BAAC,uBAAU,IACV,MAAM,EAAC,sBAAsB,EAC7B,OAAO,EAAC,UAAU,EAClB,SAAS,EAAC,MAAM,IAEf,KAAK,CACM,CACG,CACjB;QAhB2C,CAgB3C,CAAC,CAC0B,CACN,CACxB,CAAC;AACH,CAAC,CAAC;AAEF,kBAAe,wBAAwB,CAAC","sourcesContent":["import React, { useRef } from \"react\";\n\nimport { Typography } from \"../Typography\";\nimport { VisuallyHidden } from \"../VisuallyHidden\";\n\nimport useShortcutName from \"./hooks/useShortcutName\";\nimport { DEFAULT_SHORTCUTS } from \"./DatePicker.defaults\";\nimport { Shortcut } from \"./DatePicker.types\";\nimport { getMaxDate, getMinDate } from \"./DatePicker.utils\";\nimport {\n\tShortcutButton,\n\tShortcutsPanelWrapper,\n\tShortcutsScrollableWrapper,\n} from \"./DatePickerShortcutsPanel.styles\";\n\nexport type DatePickerShortcutsPanelProps = {\n\tsetSelectedDates: (dates: Date[]) => void;\n\tselectedDates: Date[];\n\tshortcuts?: Shortcut[];\n\tminDate?: Date;\n\tmaxDate?: Date;\n\tsetDateInView: (date: Date) => void;\n};\n\nconst DatePickerShortcutsPanel = ({\n\tsetSelectedDates,\n\tshortcuts = DEFAULT_SHORTCUTS,\n\tminDate,\n\tmaxDate,\n\tselectedDates,\n\tsetDateInView,\n}: DatePickerShortcutsPanelProps) => {\n\tconst { selectedShortcutId, setSelectedShortcutId } = useShortcutName(selectedDates, shortcuts);\n\tconst shortcutRef = useRef<HTMLDivElement>(null);\n\n\tconst handleOnClick = (getDates: () => Date[], id: string) => {\n\t\tconst dates = getDates();\n\t\tsetSelectedShortcutId(id);\n\t\tsetSelectedDates(dates);\n\t\tif (document && shortcutRef && shortcutRef.current) {\n\t\t\tconst startofRange = dates[0].toDateString();\n\t\t\tconst endOfRange = dates[1].toDateString();\n\t\t\tshortcutRef.current.textContent = `Selected start of range ${startofRange}, selected end of range ${endOfRange}.`;\n\t\t}\n\t\t// set the date in view to the end date\n\t\tsetDateInView(dates[0]);\n\t};\n\n\tconst shouldBeDisabled = (dates: Date[]) => {\n\t\tconst startDate = dates[0];\n\t\tconst endDate = dates[1];\n\n\t\treturn startDate.getTime() < getMinDate(minDate).getTime()\n\t\t\t|| endDate.getTime() > getMaxDate(maxDate).getTime();\n\t};\n\n\treturn (\n\t\t<ShortcutsPanelWrapper>\n\t\t\t<VisuallyHidden\n\t\t\t\tref={shortcutRef}\n\t\t\t\tdata-qa=\"date-shortcut-voiceover-info\"\n\t\t\t\tid=\"date-shortcut-voiceover-info\"\n\t\t\t\taria-live=\"assertive\" />\n\t\t\t<ShortcutsScrollableWrapper>\n\t\t\t\t{shortcuts.map(({ label, getDates, id }) => (\n\t\t\t\t\t<ShortcutButton\n\t\t\t\t\t\tisSelected={selectedShortcutId === id ? true : false}\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tdata-qa={`${id}-shortcut-button`}\n\t\t\t\t\t\tonClick={() => handleOnClick(getDates, id)}\n\t\t\t\t\t\tdisabled={shouldBeDisabled(getDates())}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tdataQA=\"shortcut-button-text\"\n\t\t\t\t\t\t\tvariant=\"bodyCopy\"\n\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</ShortcutButton>\n\t\t\t\t))}\n\t\t\t</ShortcutsScrollableWrapper>\n\t\t</ShortcutsPanelWrapper>\n\t);\n};\n\nexport default DatePickerShortcutsPanel;\n"]}