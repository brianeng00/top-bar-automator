{"version":3,"file":"StaticDateRangePicker.js","sourceRoot":"","sources":["../../../src/DatePicker/StaticDateRangePicker.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,gDAA0B;AAC1B,qCAA+C;AAM/C,uDAA2D;AAC3D,wEAAkD;AAmBlD;;GAEG;AACH,IAAM,qBAAqB,GAAG,UAAC,EAYF;IAX5B,IAAA,WAAW,iBAAA,EACX,YAAY,kBAAA,EACZ,SAAS,eAAA,EACT,OAAO,aAAA,EACP,MAAM,YAAA,EACN,CAAC,OAAA,EACD,EAAE,QAAA,EACF,EAAE,QAAA,EACF,EAAE,QAAA,EACF,EAAE,QAAA,EACC,KAAK,cAXsB,8FAY9B,CADQ;IAER,IAAM,aAAa,GAAG,IAAA,wCAAqB,EAAC,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC;IAElE,IAAM,oBAAoB,GAAG,UAAC,OAAgB;QAC7C,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;YACxB,OAAO;SACP;QAED,IAAI,QAAQ,qBAAO,aAAa,OAAC,CAAC;QAElC,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;YAC1B,QAAQ,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,IAAA,mBAAQ,EAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;YAClD,OAAO,YAAY,CAAC,QAAQ,CAAC,CAAC;SAC9B;QAED,IAAM,mBAAmB,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACnD,IAAM,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;QACxC,IAAM,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;QAEzC,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;YAC/B,uEAAuE;YACvE,IAAI,CAAC,IAAA,oBAAS,EAAC,SAAS,EAAE,UAAU,CAAC,EAAG;gBACvC,QAAQ,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,IAAA,mBAAQ,EAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;gBAClD,OAAO,YAAY,CAAC,QAAQ,CAAC,CAAC;aAC9B;YAED,IAAI,CAAC,IAAA,oBAAS,EAAC,SAAS,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,EAAG;gBACnD,IAAI,SAAS,GAAG,mBAAmB,EAAE;oBACpC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC;iBACpC;qBAAM;oBACN,QAAQ,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;iBACvC;aACD;YACD,YAAY,CAAC,QAAQ,CAAC,CAAC;SACvB;IAEF,CAAC,CAAC;IAEF,OAAO,CACN,8BAAC,0BAAgB,aAChB,WAAW,wBACP,WAAW,KACd,QAAQ,EAAE,aAAa,EACvB,cAAc,EAAE,oBAAoB,KAErC,MAAM,EAAE,UAAG,MAAM,sBAAmB,EACpC,OAAO,QACP,CAAC,EAAE,CAAC,EACJ,EAAE,EAAE,EAAE,EACN,EAAE,EAAE,EAAE,EACN,EAAE,EAAE,EAAE,EACN,EAAE,EAAE,EAAE,IACF,KAAK,EACR,CACF,CAAC;AACH,CAAC,CAAC;AAEF,kBAAe,qBAAqB,CAAC","sourcesContent":["import React from \"react\";\nimport { endOfDay, isSameDay } from \"date-fns\";\nimport { DateObj, Props as DayzedProps } from \"dayzed\";\n\nimport { Margins } from \"../styleguide\";\n\nimport { StaticDatePickerProps } from \"./DatePicker.types\";\nimport { filterStartAndEndDate } from \"./DatePicker.utils\";\nimport StaticDatePicker from \"./StaticDatePicker\";\n\ntype DayzedPropsToInclude = Omit<DayzedProps, \"onDateSelected\" | \"selected\">;\n\ntype StaticDatePickerPropsToInclude = Pick<StaticDatePickerProps, \"monthNames\" | \"weekdayNames\">;\n\nexport type StaticDateRangePickerProps = Margins & StaticDatePickerPropsToInclude & {\n\tdataQA: string;\n\tselectedDates?: Date[];\n\tonDateChange: (dates: Date[]) => void;\n\t/**\n\t * Omits onDateSelected and selected dayzed props\n\t * as those are handled in the DateRangePicker under the hood\n\t */\n\tdayzedProps?: DayzedPropsToInclude;\n\tstartDate?: Date;\n\tendDate?: Date;\n};\n\n/**\n * @description THIS COMPONENT IS A WORK IN PROGRESS. PLEASE DO NOT USE.\n */\nconst StaticDateRangePicker = ({\n\tdayzedProps,\n\tonDateChange,\n\tstartDate,\n\tendDate,\n\tdataQA,\n\tm,\n\tmb,\n\tml,\n\tmr,\n\tmt,\n\t...props\n}: StaticDateRangePickerProps) => {\n\tconst selectedDates = filterStartAndEndDate([startDate, endDate]);\n\n\tconst handleOnDateSelected = (dateObj: DateObj) => {\n\t\tif (!dateObj.selectable) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet newDates = [...selectedDates];\n\n\t\tif (!selectedDates.length) {\n\t\t\tnewDates = [dateObj.date, endOfDay(dateObj.date)];\n\t\t\treturn onDateChange(newDates);\n\t\t}\n\n\t\tconst newSelectedDateTime = dateObj.date.getTime();\n\t\tconst firstTime = newDates[0].getTime();\n\t\tconst secondTime = newDates[1].getTime();\n\n\t\tif (selectedDates.length === 2) {\n\t\t\t// after two dates are selected, we reset the selection to one full day\n\t\t\tif (!isSameDay(firstTime, secondTime) ) {\n\t\t\t\tnewDates = [dateObj.date, endOfDay(dateObj.date)];\n\t\t\t\treturn onDateChange(newDates);\n\t\t\t}\n\n\t\t\tif (!isSameDay(firstTime, dateObj.date.getTime()) ) {\n\t\t\t\tif (firstTime < newSelectedDateTime) {\n\t\t\t\t\tnewDates.splice(1, 1, dateObj.date);\n\t\t\t\t} else {\n\t\t\t\t\tnewDates = [dateObj.date, newDates[0]];\n\t\t\t\t}\n\t\t\t}\n\t\t\tonDateChange(newDates);\n\t\t}\n\n\t};\n\n\treturn (\n\t\t<StaticDatePicker\n\t\t\tdayzedProps={{\n\t\t\t\t...dayzedProps,\n\t\t\t\tselected: selectedDates,\n\t\t\t\tonDateSelected: handleOnDateSelected,\n\t\t\t}}\n\t\t\tdataQA={`${dataQA}-range-datepicker`}\n\t\t\tisRange\n\t\t\tm={m}\n\t\t\tmb={mb}\n\t\t\tml={ml}\n\t\t\tmr={mr}\n\t\t\tmt={mt}\n\t\t\t{...props}\n\t\t/>\n\t);\n};\n\nexport default StaticDateRangePicker;\n"]}