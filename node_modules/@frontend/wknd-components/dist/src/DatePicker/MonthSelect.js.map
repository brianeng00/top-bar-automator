{"version":3,"file":"MonthSelect.js","sourceRoot":"","sources":["../../../src/DatePicker/MonthSelect.tsx"],"names":[],"mappings":";;;;;AAAA,gDAA2C;AAC3C,qCAAoC;AACpC,6DAAuC;AACvC,qDAA+B;AAC/B,iEAA2C;AAE3C,oCAAmC;AAenC,IAAM,cAAc,GAAG,UACtB,OAAa,EACb,OAAa,EACb,mBAA2B,EAC3B,UAAoB;IAEpB,IAAI,IAAA,iBAAO,EAAC,OAAO,CAAC,KAAK,mBAAmB,IAAI,IAAA,iBAAO,EAAC,OAAO,CAAC,KAAK,mBAAmB,EAAE;QACzF,OAAO,UAAU,CAAC,KAAK,CAAC,IAAA,mBAAQ,EAAC,OAAO,CAAC,EAAE,IAAA,mBAAQ,EAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;KAClE;IAED,IAAI,IAAA,iBAAO,EAAC,OAAO,CAAC,KAAK,mBAAmB,EAAE;QAC7C,OAAO,UAAU,CAAC,KAAK,CAAC,IAAA,mBAAQ,EAAC,OAAO,CAAC,CAAC,CAAC;KAC3C;IAED,IAAI,IAAA,iBAAO,EAAC,OAAO,CAAC,KAAK,mBAAmB,EAAE;QAC7C,OAAO,UAAU,CAAC,KAAK,CAAC,SAAS,EAAE,IAAA,mBAAQ,EAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;KAC1D;IACD,OAAO,UAAU,CAAC;AACnB,CAAC,CAAC;AAEF,IAAM,WAAW,GAAG,UAAC,EAWF;QAVlB,MAAM,YAAA,EACN,KAAK,WAAA,EACL,UAAU,gBAAA,EACV,aAAa,mBAAA,EACb,OAAO,aAAA,EACP,cAAc,oBAAA,EACd,iBAAiB,uBAAA,EACjB,mBAAmB,yBAAA,EACnB,OAAO,aAAA,EACP,OAAO,aAAA;IAEP,IAAM,YAAY,GAAG,cAAc,CAAC,OAAO,EAAE,OAAO,EAAE,mBAAmB,EAAE,UAAU,CAAC,CAAC;IAEvF,IAAM,cAAc,GAAG,UAAC,KAAqC;QAC5D,0HAA0H;QAC1H,IAAM,qBAAqB,GAAG,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACtE,IAAM,aAAa,GAAG,IAAA,aAAG,EAAC,IAAI,IAAI,EAAE,EAAE,EAAE,KAAK,EAAE,qBAAqB,EAAE,IAAI,EAAE,mBAAmB,EAAE,CAAC,CAAC;QACnG,sDAAsD;QACtD,IAAM,YAAY,GAAG,IAAA,mBAAS,EAAC,aAAa,EAAE,aAAa,CAAC,CAAC;QAC7D,OAAO,CAAC,YAAY,CAAC,CAAC;QAEtB,IAAI,cAAc,GAAG,CAAC,IAAI,cAAc,GAAG,CAAC,EAAE;YAC7C,iBAAiB,CAAC,CAAC,CAAC,CAAC;SACrB;IACF,CAAC,CAAC;IAEF,OAAO,CACN,8BAAC,eAAM,IACN,MAAM,EAAE,UAAG,MAAM,kBAAe,EAChC,QAAQ,EAAE,cAAc,EACxB,KAAK,EAAE,UAAU,CAAC,KAAK,CAAC,EACxB,IAAI,EAAC,cAAc,gBACR,gBAAgB,IAE1B,UAAU,CAAC,GAAG,CAAC,UAAC,SAAS,IAAK,OAAA,CAC9B,0CACC,KAAK,EAAE,SAAS,EAChB,GAAG,EAAE,UAAG,SAAS,cAAI,aAAa,cAAI,MAAM,CAAE;QAC9C,sDAAsD;QACtD,MAAM,EAAE,CAAC,YAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,aAChC,UAAG,MAAM,cAAI,SAAS,kBAAe,IAE7C,SAAS,CACF,CACT,EAV8B,CAU9B,CAAC,CACM,CACT,CAAC;AACH,CAAC,CAAC;AAEF,kBAAe,WAAW,CAAC","sourcesContent":["import React, { ChangeEvent } from \"react\";\nimport { getMonth } from \"date-fns\";\nimport getYear from \"date-fns/getYear\";\nimport set from \"date-fns/set\";\nimport subMonths from \"date-fns/subMonths\";\n\nimport { Select } from \"../Select\";\n\ntype MonthSelectProps = {\n\tdataQA: string,\n\tmonth: number,\n\tcalendarIndex: number,\n\tsetDate: (newDate: Date) => void,\n\tmonthNames: string[],\n\tcalendarOffset: number,\n\tsetCalendarOffset: (newOffset: number) => void,\n\tcurrentSelectedYear: number,\n\tminDate: Date,\n\tmaxDate: Date,\n};\n\nconst getMonthsArray = (\n\tminDate: Date,\n\tmaxDate: Date,\n\tcurrentSelectedYear: number,\n\tmonthNames: string[],\n) => {\n\tif (getYear(minDate) === currentSelectedYear && getYear(maxDate) === currentSelectedYear) {\n\t\treturn monthNames.slice(getMonth(minDate), getMonth(maxDate) + 1);\n\t}\n\n\tif (getYear(minDate) === currentSelectedYear) {\n\t\treturn monthNames.slice(getMonth(minDate));\n\t}\n\n\tif (getYear(maxDate) === currentSelectedYear) {\n\t\treturn monthNames.slice(undefined, getMonth(maxDate) + 1);\n\t}\n\treturn monthNames;\n};\n\nconst MonthSelect = ({\n\tdataQA,\n\tmonth,\n\tmonthNames,\n\tcalendarIndex,\n\tsetDate,\n\tcalendarOffset,\n\tsetCalendarOffset,\n\tcurrentSelectedYear,\n\tminDate,\n\tmaxDate,\n}: MonthSelectProps) => {\n\tconst monthsToShow = getMonthsArray(minDate, maxDate, currentSelectedYear, monthNames);\n\n\tconst handleOnChange = (event: ChangeEvent<HTMLSelectElement>) => {\n\t\t// this will set the calendar at index 0, so we have to take into account the index of the calendar that is being adjusted\n\t\tconst selectedMonthPosition = monthNames?.indexOf(event.target.value);\n\t\tconst selectedMonth = set(new Date(), { month: selectedMonthPosition, year: currentSelectedYear });\n\t\t// index of monthNames is one less than calendar month\n\t\tconst firstCalDate = subMonths(selectedMonth, calendarIndex);\n\t\tsetDate(firstCalDate);\n\n\t\tif (calendarOffset > 0 || calendarOffset < 0) {\n\t\t\tsetCalendarOffset(0);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Select\n\t\t\tdataQA={`${dataQA}-month-select`}\n\t\t\tonChange={handleOnChange}\n\t\t\tvalue={monthNames[month]}\n\t\t\tname=\"month-select\"\n\t\t\taria-label=\"select a month\"\n\t\t>\n\t\t\t{monthNames.map((monthName) => (\n\t\t\t\t<option\n\t\t\t\t\tvalue={monthName}\n\t\t\t\t\tkey={`${monthName}-${calendarIndex}-${dataQA}`}\n\t\t\t\t\t// hide options that are not in the monthsToShow array\n\t\t\t\t\thidden={!monthsToShow.includes(monthName)}\n\t\t\t\t\tdata-qa={`${dataQA}-${monthName}-month-option`}\n\t\t\t\t>\n\t\t\t\t\t{monthName}\n\t\t\t\t</option>\n\t\t\t))}\n\t\t</Select>\n\t);\n};\n\nexport default MonthSelect;\n"]}