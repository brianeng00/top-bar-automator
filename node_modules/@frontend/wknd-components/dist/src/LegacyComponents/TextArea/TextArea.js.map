{"version":3,"file":"TextArea.js","sourceRoot":"","sources":["../../../../src/LegacyComponents/TextArea/TextArea.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { FC, ReactElement } from \"react\";\n\nimport { widthSizes } from \"../../styleguide\";\nimport uuid from \"../../utils/uuid\";\n\nimport {\n\tContainerTextArea, ErrorMessageSpan, LabelWrapper, LINE_HEIGHT, Message, StyledTextArea, StyledTextAreaProps,\n} from \"./TextArea.styles\";\n\ninterface TextAreaProps extends StyledTextAreaProps {\n\tdataQA: string,\n\tariaLabel: string,\n\tonChange?: (newState: string) => void,\n\tid?: string,\n\tvalue?: string,\n\tlabel?: string,\n\tplaceholder?: string,\n\tmaxCharacters?: number,\n\trows?: number,\n\tmaxVisibleRows?: number,\n\thideCharacterLimit?: boolean,\n\tcustomCharacterLimitErrorMessage?: string,\n\tinvalidTextErrorMessage?: string\n\tclassName?: string,\n\tname?: string,\n}\n/** @deprecated this component has been deprecated */\nconst TextArea: FC<TextAreaProps> = ({\n\tdataQA,\n\t$isInvalid = false,\n\tcustomCharacterLimitErrorMessage,\n\tvalue = \"\",\n\tmaxCharacters,\n\t$isDisabled = false,\n\tmaxVisibleRows = 8,\n\tinvalidTextErrorMessage,\n\tpositionErrorMessage = \"right\",\n\tresize = \"vertical\",\n\trows = 8, // setting default to 8 as the min-height was set to 145px and row of 8 is around 142px tall\n\tid = uuid(),\n\tlabel,\n\twidthSize = widthSizes.full,\n\tariaLabel,\n\tonChange = () => {},\n\thideCharacterLimit = false,\n\tclassName,\n\tname,\n\tplaceholder,\n}): ReactElement => {\n\tconst characterLimitErrorMessage = (characterLimit: string) => {\n\t\t// default error message\n\t\tlet errorMessage = `${characterLimit} characters. Please reduce the length of your message.`;\n\n\t\tif (customCharacterLimitErrorMessage) {\n\t\t\terrorMessage = `${characterLimit} ${customCharacterLimitErrorMessage}`;\n\t\t}\n\n\t\treturn <ErrorMessageSpan>{errorMessage}</ErrorMessageSpan>;\n\t};\n\n\tconst getCharacterLimitMessage = () => {\n\t\tconst characterLimit = `${value.length} / ${maxCharacters || 1}`;\n\n\t\t// When the text area value length is longer than the max character limit, show an error message\n\t\tconst valueIsTooHigh = maxCharacters && value.length > maxCharacters;\n\n\t\tif (valueIsTooHigh) {\n\t\t\treturn characterLimitErrorMessage(characterLimit);\n\t\t}\n\n\t\treturn `${characterLimit} characters`;\n\t};\n\n\tconst modifiedOnChange = (event: EventTarget & HTMLTextAreaElement) => {\n\t\tif ($isDisabled) return;\n\n\t\tconst lines = Math.round((event.scrollHeight / LINE_HEIGHT) - 1);\n\t\tconst maxRows = maxVisibleRows || rows;\n\n\t\tif (lines > maxRows) {\n\t\t\tonChange(event.value);\n\t\t\treturn;\n\t\t}\n\n\t\tevent.style.height = \"inherit\";\n\t\tevent.style.height = `${event.scrollHeight}px`;\n\n\t\tonChange(event.value);\n\t};\n\n\tconst textAreaLabel = label && (\n\t\t// eslint-disable-next-line jsx-a11y/label-has-for\n\t\t<label htmlFor={id}>\n\t\t\t{label}\n\t\t</label>\n\t);\n\n\treturn (\n\t\t<div data-qa={dataQA} className={className}>\n\t\t\t<LabelWrapper $isInvalid={$isInvalid} $isDisabled={$isDisabled}>\n\t\t\t\t{textAreaLabel}\n\t\t\t</LabelWrapper>\n\t\t\t<ContainerTextArea widthSize={widthSize}>\n\t\t\t\t<StyledTextArea\n\t\t\t\t\twidthSize={widthSize}\n\t\t\t\t\tname={name}\n\t\t\t\t\tid={id}\n\t\t\t\t\taria-label={ariaLabel}\n\t\t\t\t\trows={rows}\n\t\t\t\t\t$isInvalid={$isInvalid}\n\t\t\t\t\t$isDisabled={$isDisabled}\n\t\t\t\t\tvalue={!value ? placeholder : value}\n\t\t\t\t\tonChange={(event) => modifiedOnChange(event.target)}\n\t\t\t\t\tresize={resize}\n\t\t\t\t>\n\t\t\t\t</StyledTextArea>\n\t\t\t\t{hideCharacterLimit\n\t\t\t\t|| (\n\t\t\t\t\t<Message\n\t\t\t\t\t\tpositionErrorMessage={positionErrorMessage}\n\t\t\t\t\t\tdata-qa={`${dataQA}-character-limit`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{getCharacterLimitMessage()}\n\t\t\t\t\t</Message>\n\t\t\t\t)}\n\t\t\t\t{$isInvalid && invalidTextErrorMessage\n\t\t\t\t&& (\n\t\t\t\t\t<Message\n\t\t\t\t\t\tpositionErrorMessage={positionErrorMessage}\n\t\t\t\t\t\tdata-qa={`${dataQA}-character-limit`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ErrorMessageSpan>{invalidTextErrorMessage}</ErrorMessageSpan>\n\t\t\t\t\t</Message>\n\t\t\t\t)}\n\t\t\t</ContainerTextArea>\n\t\t</div>\n\t);\n};\n\nexport default TextArea;\n"]}