{"version":3,"file":"ToastNotification.js","sourceRoot":"","sources":["../../../src/Toast/ToastNotification.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useEffect, useLayoutEffect, useRef, useState } from \"react\";\n\nimport IconButton from \"../Button/IconButton\";\nimport { Icon, IconName } from \"../Icon/Icon\";\nimport { colors } from \"../styleguide\";\n\nimport {\n\tDismissButtonWrapper,\n\tIconWrapper,\n\tStyledToast,\n\tStyledToastTypography,\n\tTrailingLinkButton,\n} from \"./Toast.styles\";\nimport { Notification, ToastVariant } from \"./Toast.types\";\nimport { useToast } from \"./ToastContext\";\n\ninterface ToastVariantOptions {\n\ticonName: IconName;\n\tcolor: string;\n}\n\nconst toastVariantOptions: Record<ToastVariant, ToastVariantOptions> = {\n\tDefault: {\n\t\ticonName: \"Info\",\n\t\tcolor: colors.white,\n\t},\n\tWarning: {\n\t\ticonName: \"AlertTriangle\",\n\t\tcolor: colors.black,\n\t},\n\tError: {\n\t\ticonName: \"AlertOctagon\",\n\t\tcolor: colors.black,\n\t},\n\tValidation: {\n\t\ticonName: \"Check\",\n\t\tcolor: colors.black,\n\t},\n};\n\nconst ToastNotification = ({\n\tid,\n\tdataQA,\n\tclassName,\n\ttext,\n\tvariant = \"Default\",\n\tshowIcon = true,\n\ttrailingLinkText,\n\ttrailingLinkAction,\n\ticonName,\n\ticonColor,\n\ttextColor,\n\tbackgroundColor,\n\thasTimeout = true,\n\ttimeout = 3000,\n\tonTimeout,\n\tonDismiss,\n}: Notification) => {\n\n\tconst { removeNotification } = useToast();\n\tconst trailingButtonRef = useRef<HTMLButtonElement>(\n\t\tdocument.createElement(\"button\"),\n\t);\n\n\tconst [trailingButtonWidth, setTrailingButtonWidth] = useState(0);\n\n\tuseLayoutEffect(() => {\n\t\tsetTrailingButtonWidth(trailingButtonRef.current.offsetWidth);\n\t}, [trailingButtonWidth]);\n\n\tuseEffect(() => {\n\t\tif (hasTimeout) {\n\t\t\tconst timeoutId = setTimeout(() => {\n\t\t\t\tremoveNotification(id);\n\t\t\t\tif (onTimeout) {\n\t\t\t\t\tonTimeout();\n\t\t\t\t}\n\t\t\t}, timeout);\n\n\t\t\treturn () => clearTimeout(timeoutId);\n\t\t}\n\t\treturn;\n\t}, [removeNotification, hasTimeout, timeout, onTimeout, id]);\n\n\tconst onDismissNotification = () => {\n\t\tremoveNotification(id);\n\t\tif (onDismiss) {\n\t\t\tonDismiss();\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{trailingButtonWidth > -1 && (\n\t\t\t\t<StyledToast\n\t\t\t\t\tkey={id}\n\t\t\t\t\tdata-qa={dataQA}\n\t\t\t\t\tclassName={className}\n\t\t\t\t\tvariant={variant}\n\t\t\t\t\tbackgroundColor={backgroundColor}\n\t\t\t\t\trole=\"status\"\n\t\t\t\t>\n\t\t\t\t\t{showIcon && (\n\t\t\t\t\t\t<IconWrapper>\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\tdata-qa={`${dataQA}-icon`}\n\t\t\t\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\t\t\t\tname={\n\t\t\t\t\t\t\t\t\ticonName ||\n\t\t\t\t\t\t\t\t\ttoastVariantOptions[variant].iconName\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsize={18}\n\t\t\t\t\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\t\t\t\t\tcolor={\n\t\t\t\t\t\t\t\t\ticonColor ||\n\t\t\t\t\t\t\t\t\ttoastVariantOptions[variant].color\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</IconWrapper>\n\t\t\t\t\t)}\n\t\t\t\t\t<StyledToastTypography\n\t\t\t\t\t\tdataQA={`${dataQA}-typography`}\n\t\t\t\t\t\tvariant=\"bodyCopy\"\n\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\tcolor={textColor || toastVariantOptions[variant].color}\n\t\t\t\t\t\ttitle={text}\n\t\t\t\t\t>\n\t\t\t\t\t\t{text}\n\t\t\t\t\t</StyledToastTypography>\n\t\t\t\t\t{trailingLinkText && (\n\t\t\t\t\t\t<TrailingLinkButton\n\t\t\t\t\t\t\tref={trailingButtonRef}\n\t\t\t\t\t\t\tdataQA={`${dataQA}-trailing-link`}\n\t\t\t\t\t\t\tonClick={trailingLinkAction}\n\t\t\t\t\t\t\tbuttonText={trailingLinkText}\n\t\t\t\t\t\t\tvariant={variant}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<DismissButtonWrapper variant={variant}>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tdataQA={`${dataQA}-dismiss-button`}\n\t\t\t\t\t\t\taria-label=\"dismiss\"\n\t\t\t\t\t\t\ticon=\"X\"\n\t\t\t\t\t\t\tonClick={onDismissNotification}\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DismissButtonWrapper>\n\t\t\t\t</StyledToast>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default ToastNotification;\n"]}