{"version":3,"file":"ToastContext.js","sourceRoot":"","sources":["../../../src/Toast/ToastContext.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+BAA2E;AAC3E,gDAA0B;AAE1B,uDAAmC;AAQnC,IAAM,YAAY,GAAG,IAAA,qBAAa,EAA+B,SAAS,CAAC,CAAC;AAE5E,IAAI,wBAA0E,CAAC;AAC/E,IAAI,wBAA8C,CAAC;AAEnD,IAAM,YAAY,GAAG,UAAC,KAAqB,EAAE,MAAmB;IAC/D,QAAQ,MAAM,CAAC,IAAI,EAAE;QACpB,KAAK,qBAAqB;YACzB,uCAAW,KAAK,UAAE,MAAM,CAAC,OAAO,UAAE;QACnC,KAAK,qBAAqB;YACzB,OAAO,KAAK,CAAC,MAAM,CAClB,UAAC,YAAY,IAAK,OAAA,YAAY,CAAC,EAAE,KAAK,MAAM,CAAC,OAAO,EAAlC,CAAkC,CACpD,CAAC;QACH;YACC,OAAO,KAAK,CAAC;KACd;AACF,CAAC,CAAC;AAEK,IAAM,aAAa,GAAG,UAAC,EAA2C;QAAzC,QAAQ,cAAA;IACjC,IAAA,KAA4B,IAAA,kBAAU,EAAC,YAAY,EAAE,EAAE,CAAC,EAAvD,aAAa,QAAA,EAAE,QAAQ,QAAgC,CAAC;IAE/D,IAAM,kBAAkB,GAAG,IAAA,mBAAW,EACrC,UAAC,YAAsC;QACtC,IAAM,EAAE,GAAG,IAAA,cAAM,GAAE,CAAC;QACpB,QAAQ,CAAC;YACR,IAAI,EAAE,qBAAqB;YAC3B,OAAO,wBAAO,YAAY,KAAE,EAAE,IAAA,GAAE;SAChC,CAAC,CAAC;IACJ,CAAC,EACD,EAAE,CACF,CAAC;IAEF,IAAM,kBAAkB,GAAG,IAAA,mBAAW,EAAC,UAAC,EAAU;QACjD,QAAQ,CAAC,EAAE,IAAI,EAAE,qBAAqB,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC,CAAC;IACxD,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,wBAAwB,GAAG,kBAAkB,CAAC;IAC9C,wBAAwB,GAAG,kBAAkB,CAAC;IAE9C,OAAO,CACN,8BAAC,YAAY,CAAC,QAAQ,IACrB,KAAK,EAAE,EAAE,aAAa,eAAA,EAAE,kBAAkB,oBAAA,EAAE,kBAAkB,oBAAA,EAAE,IAE/D,QAAQ,CACc,CACxB,CAAC;AACH,CAAC,CAAC;AA5BW,QAAA,aAAa,iBA4BxB;AAEF,qGAAqG;AAC9F,IAAM,QAAQ,GAAG;IACvB,IAAM,OAAO,GAAG,IAAA,kBAAU,EAAC,YAAY,CAAC,CAAC;IACzC,IAAI,CAAC,OAAO,EAAE;QACb,MAAM,IAAI,KAAK,CAAC,8CAA8C,CAAC,CAAC;KAChE;IACD,OAAO,OAAO,CAAC;AAChB,CAAC,CAAC;AANW,QAAA,QAAQ,YAMnB;AAEF,qHAAqH;AAC9G,IAAM,mBAAmB,GAAG,UAAC,YAAsC;IACzE,IAAI,CAAC,wBAAwB,EAAE;QAC7B,MAAM,IAAI,KAAK,CAAC,yDAAyD,CAAC,CAAC;KAC5E;IACD,wBAAwB,CAAC,YAAY,CAAC,CAAC;AACxC,CAAC,CAAC;AALW,QAAA,mBAAmB,uBAK9B;AAEF,+FAA+F;AACxF,IAAM,kBAAkB,GAAG,UAAC,EAAU;IAC5C,IAAI,CAAC,wBAAwB,EAAE;QAC7B,MAAM,IAAI,KAAK,CAAC,wDAAwD,CAAC,CAAC;KAC3E;IACD,wBAAwB,CAAC,EAAE,CAAC,CAAC;AAC9B,CAAC,CAAC;AALW,QAAA,kBAAkB,sBAK7B","sourcesContent":["import { createContext, useCallback, useContext, useReducer } from \"react\";\nimport React from \"react\";\n\nimport uuidv4 from \"../utils/uuid\";\n\nimport {\n\tNotification,\n\tToastAction,\n\tToastContextType,\n} from \"./Toast.types\";\n\nconst ToastContext = createContext<ToastContextType | undefined>(undefined);\n\nlet appendNotificationExport: (notification: Omit<Notification, \"id\">) => void;\nlet removeNotificationExport: (id: string) => void;\n\nconst toastReducer = (state: Notification[], action: ToastAction) => {\n\tswitch (action.type) {\n\t\tcase \"APPEND_NOTIFICATION\":\n\t\t\treturn [...state, action.payload];\n\t\tcase \"REMOVE_NOTIFICATION\":\n\t\t\treturn state.filter(\n\t\t\t\t(notification) => notification.id !== action.payload,\n\t\t\t);\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport const ToastProvider = ({ children }: { children: React.ReactNode }) => {\n\tconst [notifications, dispatch] = useReducer(toastReducer, []);\n\n\tconst appendNotification = useCallback(\n\t\t(notification: Omit<Notification, \"id\">) => {\n\t\t\tconst id = uuidv4();\n\t\t\tdispatch({\n\t\t\t\ttype: \"APPEND_NOTIFICATION\",\n\t\t\t\tpayload: { ...notification, id },\n\t\t\t});\n\t\t},\n\t\t[],\n\t);\n\n\tconst removeNotification = useCallback((id: string) => {\n\t\tdispatch({ type: \"REMOVE_NOTIFICATION\", payload: id });\n\t}, []);\n\n\tappendNotificationExport = appendNotification;\n\tremoveNotificationExport = removeNotification;\n\n\treturn (\n\t\t<ToastContext.Provider\n\t\t\tvalue={{ notifications, appendNotification, removeNotification }}\n\t\t>\n\t\t\t{children}\n\t\t</ToastContext.Provider>\n\t);\n};\n\n// useToast is a custom hook to access the toast context and should be used within a React component.\nexport const useToast = (): ToastContextType => {\n\tconst context = useContext(ToastContext);\n\tif (!context) {\n\t\tthrow new Error(\"useToast must be used within a ToastProvider\");\n\t}\n\treturn context;\n};\n\n// triggerNotification is a function to trigger a toast notification outside of React components eg: errorHandler.ts.\nexport const triggerNotification = (notification: Omit<Notification, \"id\">) => {\n\tif (!appendNotificationExport) {\n\t  throw new Error(\"triggerNotification must be used within a ToastProvider\");\n\t}\n\tappendNotificationExport(notification);\n};\n  \n// deleteNotification is a function to remove a toast notification outside of React components.\nexport const deleteNotification = (id: string) => {\n\tif (!removeNotificationExport) {\n\t  throw new Error(\"deleteNotification must be used within a ToastProvider\");\n\t}\n\tremoveNotificationExport(id);\n};"]}