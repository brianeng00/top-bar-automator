{"version":3,"file":"IndeterminateCheckbox.js","sourceRoot":"","sources":["../../../src/IndeterminateCheckbox/IndeterminateCheckbox.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, {\n\tFC, useMemo, useState,\n} from \"react\";\n\nimport Checkbox, { CheckboxProps } from \"../Checkbox/Checkbox\";\n\nimport { IndeterminateStyleChildrenDiv, IndeterminateStylesDiv } from \"./IndeterminateCheckbox.styles\";\n\nexport interface IndeterminateCheckboxProps extends CheckboxProps {\n\tcheckboxes: CheckboxProps[],\n}\n\nconst IndeterminateCheckbox: FC<IndeterminateCheckboxProps> = ({\n\tlabel,\n\tcheckboxes,\n\tdataQA,\n\tchecked,\n\tclassName,\n\tonChange = () => { },\n}) => {\n\tconst items: number[] = useMemo(() => {\n\t\tconst itemsArray: number[] = [];\n\t\tcheckboxes.forEach((child, index) => {\n\t\t\tif (!child.disabled) {\n\t\t\t\titemsArray.push(index);\n\t\t\t}\n\t\t});\n\t\treturn itemsArray;\n\t}, [checkboxes]);\n\n\tconst forLabel = typeof label === \"string\" ? label : \"\";\n\n\tconst generateCheckedArray = (): (number[]) => {\n\t\tconst checkedChildren: number[] = [];\n\t\tif (checked) {\n\t\t\treturn items;\n\t\t}\n\n\t\tcheckboxes.forEach((child, index) => {\n\t\t\tif (child.checked && !child.disabled) {\n\t\t\t\tcheckedChildren.push(index);\n\t\t\t}\n\t\t});\n\n\t\treturn checkedChildren;\n\t};\n\n\tconst [checkedArray, setChecked] = useState<number[]>(generateCheckedArray());\n\n\tconst handletoggle = (value: number) => {\n\t\tconst currentIndex = checkedArray.indexOf(value);\n\t\tconst newChecked = [...checkedArray];\n\t\tif (currentIndex === -1) {\n\t\t\tnewChecked.push(value);\n\t\t} else {\n\t\t\tnewChecked.splice(currentIndex, 1);\n\t\t}\n\n\t\tsetChecked(newChecked);\n\t};\n\n\tconst handleToggleAll = () => {\n\t\tif (checkedArray.length === items.length) {\n\t\t\tconst childrenNotSelected = checkedArray.filter((value) => items.indexOf(value) === -1);\n\t\t\tsetChecked(childrenNotSelected);\n\t\t} else {\n\t\t\tsetChecked(items);\n\t\t}\n\t};\n\n\tconst handleOnChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\thandleToggleAll();\n\t\tonChange(event);\n\t};\n\n\treturn (\n\t\t<IndeterminateStylesDiv className={className}>\n\t\t\t<Checkbox\n\t\t\t\tlabel={label}\n\t\t\t\tdataQA={dataQA}\n\t\t\t\tchecked={checkedArray.length === items.length && items.length !== 0}\n\t\t\t\tonChange={handleOnChange}\n\t\t\t\tisIndeterminate={checkedArray.length !== items.length && checkedArray.length !== 0}\n\t\t\t/>\n\t\t\t<IndeterminateStyleChildrenDiv role=\"group\" aria-label={forLabel}>\n\t\t\t\t{checkboxes.map((child, index) => {\n\t\t\t\t\tconst isChecked = child.disabled ? child.checked : checkedArray.indexOf(index) !== -1;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tlabel={child.label}\n\t\t\t\t\t\t\tdataQA={child.dataQA}\n\t\t\t\t\t\t\tchecked={isChecked}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\thandletoggle(index);\n\t\t\t\t\t\t\t\treturn child.onChange && child.onChange(e);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tisIndeterminate={false}\n\t\t\t\t\t\t\tdisabled={child.disabled}\n\t\t\t\t\t\t\tisInvalid={child.isInvalid}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</IndeterminateStyleChildrenDiv>\n\n\t\t</IndeterminateStylesDiv>\n\n\t);\n};\n\nIndeterminateCheckbox.displayName = \"IndeterminateCheckbox\";\nexport default IndeterminateCheckbox;\n"]}