# Wunder Design System

A design library is essential for maintaining design consistency, improving efficiency, fostering team collaboration, ensuring scalability, enhancing the user experience, strengthening brand identity, simplifying maintenance, reducing errors, and facilitating onboarding. Wunder design system is a React component library for all new Wunderkind apps influenced by the new updated branding and styling, these components will be used in the new `Wunderkind Platform`. Currently, the components are used in `creative-studio`, `segment-builder`, and `platform-ui-navigation` applications.

## Prerequisites

- NodeJS v16+
- NPM 8+

## Storybook

The components are documented in Storybook and can be viewed in [Staging](https://wunder.stg.wunderkind.co/) or in [Production](https://wunder.wunderkind.co/)

## Branching and Merge Requests

Always branch from `main`

Branch names should look like:

- **WDS-[TICKET NUMBER]-[TICKET TITLE]** (i.e. WDS-1234-update-readme)

### Creating Branch from Jira Ticket
Please see [this video on creating a branch from a Jira Ticket](https://drive.google.com/file/d/1xhk_SxBIOn9czYPDjen6FaESAhHZwp7N/view?usp=sharing).

Sometimes the branch name can be long depending on the ticket title, so feel free to shorten the name.

Creating the branch through the ticket gives you the ability to do a `git fetch` from the project and then you checkout the branch form the terminal.

This also prevents the need for having to set the upstream branch when doing `git push`.

### Committing Code

We use [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) for commit messages. Read this [blog](https://wunderkindco.atlassian.net/l/cp/bVJm5m4Z) for more information.

Run `git commit` and after the tests are run, you will be prompted to enter a commit message.

As an example, the commit message for a breaking change to the Badge component will look like:

```bash
feat(Badge)!: refactors the badge component

see #WDS-1234
```

### Creating a Merge Request for your branch
There will be a default template applied to the MR description with some areas to fill out, items to checkoff and some default reviewers

There are also a number of labels that can be applied:
- `Draft`
    - for MRs that should not be merged (“Draft” blocks the merge).
- `Work In Progress`
    - others should not comment
- `Ready for Review`
    - others should comment/actively review
- `Feedback Requested`
    - notes about where feedback is requested
    - if some part of the code needs someone’s input and/or the dev has questions about development direction
- always feel free to comment regarding typos, naming issues, etc.(easier to catch early)

It is also helpful to review your own MR and place comments about why things were removed or added or why a particular approach was taken.



## Dependencies

NVM is recommended as it allows us to easily switch Node versions.
[Install instructions](https://github.com/creationix/nvm.)

> Note that after installing you will need to use a new terminal tab to use NVM.


Install Node 16+:

```bash
nvm install v16.x.x
```

Install NPM version 8

```bash
npm install -g npm
```

## Developing Components within Storybook (recommended)

To develop components within Storybook, run the following commands:

```bash 
npm start
```

## Developing Components within a SubApp

All components should be created in the `src/<COMPONENT_NAME>` folder and exported in the [index.ts](index.ts) file.

Before working on any components run the following commands:

```bash
$ npm run clean //this will delete the dist folder
```

```bash
$ npm run develop // Runs the build in watch mode with tsconfig.prod.json
```

>As `tsconfig.json` includes the Storybook library, we use `tsconfig.develop.json` ( clone of `tsconfig.prod.json`) for development mode to ensure the local test environment mirrors the production build.


This will expose the correctly built package locally at `wknd-components` that can be imported in other projects.

To import an in-progress component into your application for local testing, run `npm install` in your application folder. Assuming the application and `wknd-components` are at the same folder level.

Either of the following methods can be used to import the components:

1. Using npm link (create a symlink to the package)

```bash
$ npm link ../wknd-components
```

2. Using npm install (install the package from the local path)

```bash
$ npm install --save ../wknd-components
```

Then you will be able to import components locally using the following import style:

```js
import { Header } from "@frontend/wknd-components";
```

### Publishing Components and Updating the CHANGELOG

Once a component is completed and built, we will create a new npm release for the components and storybook. This has been documented in the [DEPLOYMENT.md](./docs/DEPLOYMENT.md) file.

### Writing Unit Tests
See [TEST.md](./docs/TEST.md)

---
### External library Docs

For ease of use there are several external libraries we are leveraging to make development easier.

- [React data table component](https://www.npmjs.com/package/react-data-table-component)
- [React data table component CSS API](https://github.com/jbetancur/react-data-table-component/blob/master/src/DataTable/styles.js)
- [Lucide icons library](https://github.com/lucide-icons/lucide)
